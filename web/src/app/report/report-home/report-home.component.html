<household-toolbar title="Jelentések">
  <!-- <button mat-icon-button (click)="create()" type="button">
    <mat-icon>add</mat-icon>
  </button> -->
</household-toolbar>
<div [formGroup]="form">
  <button mat-flat-button color="primary" (click)="onSubmit()">Küldés</button>
  <mat-accordion multi>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Számlák
        </mat-panel-title>
        <mat-panel-description>
          {{form.value.accountIds?.length ?? 0}} kiválasztva {{accounts.length}} számlából
        </mat-panel-description>
      </mat-expansion-panel-header>
      <household-select-all-list [items]="accounts" displayPropertyName="name" keyPropertyName="accountId"
        formControlName="accountIds"></household-select-all-list>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Projektek
        </mat-panel-title>
        <mat-panel-description>
          {{form.value.projectIds?.length ?? 0}} kiválasztva {{projects.length}} projektből
        </mat-panel-description>
      </mat-expansion-panel-header>
      <household-select-all-list [items]="projects" displayPropertyName="name" keyPropertyName="projectId"
        formControlName="projectIds"></household-select-all-list>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Partnerek
        </mat-panel-title>
        <mat-panel-description>
          {{form.value.recipientIds?.length ?? 0}} kiválasztva {{recipients.length}} partnerből
        </mat-panel-description>
      </mat-expansion-panel-header>
      <household-select-all-list [items]="recipients" displayPropertyName="name" keyPropertyName="recipientId"
        formControlName="recipientIds"></household-select-all-list>
    </mat-expansion-panel>
    <mat-expansion-panel expanded="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Kategóriák
        </mat-panel-title>
        <mat-panel-description>
          {{form.value.categoryIds?.length ?? 0}} kiválasztva {{categories.length}} kategóriából
        </mat-panel-description>
      </mat-expansion-panel-header>
      <household-select-all-list [items]="categories" displayPropertyName="fullName" keyPropertyName="categoryId"
        parentPropertyName="parentCategory" formControlName="categoryIds">
      </household-select-all-list>
    </mat-expansion-panel>
    <mat-expansion-panel expanded="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Termékek
        </mat-panel-title>
        <mat-panel-description>
          {{form.value.productIds?.length ?? 0}} kiválasztva {{products.length}} termékből
        </mat-panel-description>
      </mat-expansion-panel-header>
      <household-select-all-list [items]="products" displayPropertyName="value" keyPropertyName="key"
        parentPropertyName="parent" formControlName="productIds">
      </household-select-all-list>
    </mat-expansion-panel>
  </mat-accordion>

</div>
